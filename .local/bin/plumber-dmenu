#!/bin/sh -eu
options="\
first letter word
single line
slug
title case
lower case
lorem title
lorem paragraph
thesaurus
kjv verse lookup
"
printf "%s" "$options" \
  | dmenu -i -b -p ⠀:::⠀plumber⠀::: \
  | while read -r option
    do
      text=$(plumber --option "$option" --text "$(xsel -o)")
      { notify-send "$text" && printf "%s" "$text" | xsel -ib; } \
        || notify-send "Plumber: Clipboard selection is empty"
    done

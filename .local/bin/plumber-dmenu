#!/bin/sh -eu
options="\
text->camelize
word->dictionary
text->first-letter-words
verse->kjv
lorem->paragraph
lorem->title
case->lower
text->single-line
text->slugize
case->title
"
printf "%s" "$options" \
  | dmenu -i -b -p ⠀:::⠀plumber⠀::: \
  | while read -r option
    do
      text=$(plumber --option "$option" --text "$(xsel -o)")
      { notify-send "$text" && printf "%s" "$text" | xsel -ib; } \
        || notify-send "Plumber: Clipboard selection is empty"
    done
